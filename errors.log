Internal Server Error: /hotels/hotel/38/room/624/
Traceback (most recent call last):
  File "C:\Users\HP-\Desktop\projects\pluto\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP-\Desktop\projects\pluto\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP-\Desktop\projects\pluto\hotel\views.py", line 235, in roomDetails
    callbackUrl = f"https://plutobooking.com/callback/{invoiceNumber}"
                                                       ^^^^^^^^^^^^^
NameError: name 'invoiceNumber' is not defined
"POST /hotels/hotel/38/room/624/ HTTP/1.1" 500 145
Internal Server Error: /hotels/hotel/38/room/624/
Traceback (most recent call last):
  File "C:\Users\HP-\Desktop\projects\pluto\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP-\Desktop\projects\pluto\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP-\Desktop\projects\pluto\hotel\views.py", line 244, in roomDetails
    if statusCode != 201:
       ^^^^^^^^^^^
NameError: name 'status_code' is not defined
"POST /hotels/hotel/38/room/624/ HTTP/1.1" 500 85316
Internal Server Error: /hotels/hotel/31/room/484/
Traceback (most recent call last):
  File "C:\Users\HP-\Desktop\projects\pluto\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP-\Desktop\projects\pluto\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP-\Desktop\projects\pluto\hotel\views.py", line 237, in roomDetails
    status_code, invoiceResponse = createInvoiceOnIremboPay(
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: createInvoiceOnIremboPay() missing 2 required positional arguments: 'customerEmail' and 'customerName'
"POST /hotels/hotel/31/room/484/ HTTP/1.1" 500 85421
Internal Server Error: /hotels/hotel/31/room/484/
Traceback (most recent call last):
  File "C:\Users\HP-\Desktop\projects\pluto\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP-\Desktop\projects\pluto\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP-\Desktop\projects\pluto\hotel\views.py", line 236, in roomDetails
    customer_name = request.user.get_full_name() or request.user.username
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP-\Desktop\projects\pluto\venv\Lib\site-packages\django\utils\functional.py", line 268, in inner
    return func(_wrapped, *args)
           ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'User' object has no attribute 'get_full_name'
"POST /hotels/hotel/31/room/484/ HTTP/1.1" 500 89561
Internal Server Error: /hotels/hotel/31/room/484/
Traceback (most recent call last):
  File "C:\Users\HP-\Desktop\projects\pluto\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP-\Desktop\projects\pluto\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP-\Desktop\projects\pluto\hotel\views.py", line 236, in roomDetails
    customer_name = request.user.name
                    ^^^^^^^^^^^^^^^^^^
TypeError: 'str' object is not callable
"POST /hotels/hotel/31/room/484/ HTTP/1.1" 500 85289
Internal Server Error: /hotels/hotel/31/room/484/
Traceback (most recent call last):
  File "C:\Users\HP-\Desktop\projects\pluto\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP-\Desktop\projects\pluto\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP-\Desktop\projects\pluto\hotel\views.py", line 243, in roomDetails
    status_code, invoice_response = createInvoiceOnIremboPay(
                                    ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: createInvoiceOnIremboPay() got an unexpected keyword argument 'customerPhone'
"POST /hotels/hotel/31/room/484/ HTTP/1.1" 500 86335
Internal Server Error: /hotels/hotel/37/room/610/
Traceback (most recent call last):
  File "C:\Users\HP-\Desktop\projects\pluto\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP-\Desktop\projects\pluto\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP-\Desktop\projects\pluto\hotel\views.py", line 228, in roomDetails
    description=f"Room booking for {customer_name} at {booking.room.hotel.name}",
                                    ^^^^^^^^^^^^^
NameError: name 'customer_name' is not defined
"POST /hotels/hotel/37/room/610/ HTTP/1.1" 500 85209
Internal Server Error: /cars/car/25/
Traceback (most recent call last):
  File "C:\Users\HP-\Desktop\projects\pluto\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP-\Desktop\projects\pluto\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP-\Desktop\projects\pluto\car\views.py", line 152, in carDetails
    transaction_id = str(uuid.uuid4())
                         ^^^^
NameError: name 'uuid' is not defined
"POST /cars/car/25/ HTTP/1.1" 500 91417
Internal Server Error: /cars/car/25/
Traceback (most recent call last):
  File "C:\Users\HP-\Desktop\projects\pluto\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP-\Desktop\projects\pluto\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP-\Desktop\projects\pluto\car\views.py", line 157, in carDetails
    status_code, irembo_invoice_number = createInvoiceOnIremboPay(
                                         ^^^^^^^^^^^^^^^^^^^^^^^^
NameError: name 'createInvoiceOnIremboPay' is not defined
"POST /cars/car/25/ HTTP/1.1" 500 92098
Internal Server Error: /cars/car/25/
Traceback (most recent call last):
  File "C:\Users\HP-\Desktop\projects\pluto\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP-\Desktop\projects\pluto\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP-\Desktop\projects\pluto\car\views.py", line 157, in carDetails
    status_code, irembo_invoice_number = createInvoiceOnIremboPay(
                                         ^^^^^^^^^^^^^^^^^^^^^^^^
NameError: name 'createInvoiceOnIremboPay' is not defined
"POST /cars/car/25/ HTTP/1.1" 500 92098
Internal Server Error: /cars/car/25/
Traceback (most recent call last):
  File "C:\Users\HP-\Desktop\projects\pluto\venv\Lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP-\Desktop\projects\pluto\venv\Lib\site-packages\django\db\backends\sqlite3\base.py", line 328, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.OperationalError: no such table: payment_carpayment

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\HP-\Desktop\projects\pluto\venv\Lib\site-packages\django\core\handlers\exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP-\Desktop\projects\pluto\venv\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP-\Desktop\projects\pluto\car\views.py", line 171, in carDetails
    CarPayment.objects.create(
  File "C:\Users\HP-\Desktop\projects\pluto\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP-\Desktop\projects\pluto\venv\Lib\site-packages\django\db\models\query.py", line 658, in create
    obj.save(force_insert=True, using=self.db)
  File "C:\Users\HP-\Desktop\projects\pluto\venv\Lib\site-packages\django\db\models\base.py", line 814, in save
    self.save_base(
  File "C:\Users\HP-\Desktop\projects\pluto\venv\Lib\site-packages\django\db\models\base.py", line 877, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "C:\Users\HP-\Desktop\projects\pluto\venv\Lib\site-packages\django\db\models\base.py", line 1020, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "C:\Users\HP-\Desktop\projects\pluto\venv\Lib\site-packages\django\db\models\base.py", line 1061, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\HP-\Desktop\projects\pluto\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP-\Desktop\projects\pluto\venv\Lib\site-packages\django\db\models\query.py", line 1805, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP-\Desktop\projects\pluto\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1820, in execute_sql
    cursor.execute(sql, params)
  File "C:\Users\HP-\Desktop\projects\pluto\venv\Lib\site-packages\django\db\backends\utils.py", line 102, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP-\Desktop\projects\pluto\venv\Lib\site-packages\django\db\backends\utils.py", line 67, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP-\Desktop\projects\pluto\venv\Lib\site-packages\django\db\backends\utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP-\Desktop\projects\pluto\venv\Lib\site-packages\django\db\backends\utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "C:\Users\HP-\Desktop\projects\pluto\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\HP-\Desktop\projects\pluto\venv\Lib\site-packages\django\db\backends\utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\HP-\Desktop\projects\pluto\venv\Lib\site-packages\django\db\backends\sqlite3\base.py", line 328, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: no such table: payment_carpayment
"POST /cars/car/25/ HTTP/1.1" 500 182688
